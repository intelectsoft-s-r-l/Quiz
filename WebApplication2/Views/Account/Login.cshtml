@using WebApplication2.ViewModels;
@model AuthorizeViewModel
@{
    ViewData["Title"] = Localization.logIn;
    Layout = "~/Views/_Shared/_BlankLayout.cshtml";
}
<div class="account-pages my-5 pt-sm-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center">
                    @**@<a class="mb-5 d-block auth-logo">
                        <img src="~/assets/images/logo-dark.png" alt="" height="22" class="logo logo-dark">
                        <img src="~/assets/images/logo-light.png" alt="" height="22" class="logo logo-light">
                    </a>
                </div>
            </div>
        </div>
        <div class="row align-items-center justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-5">
                <div class="card">

                    <!-- Вывод сообщения об ошибке (если есть) -->
                    @if (TempData["Error"] != null)
                    {
                        <div class="alert alert-danger">
                            <strong>Oops!</strong> @TempData["Error"]
                        </div>
                    }
                    @if (TempData["Success"] != null)
                    {
                        <div class="alert alert-success">
                            <strong>Success! </strong>@TempData["Success"]
                        </div>
                    }
                    <div class="card-body p-4">
                        <div class="text-center mt-2">
                            <h5 class="text-primary">@Localization.autentificare</h5>
                        </div>
                        <div class="p-2 mt-4">

                            <form asp-action="Login" method="post">
                                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                <div class="mb-3">
                                    <label class="form-label" asp-for="Email" class="control-label">@Localization.emailAddress</label>
                                    <input type="text" asp-for="Email" class="form-control" name="Email" placeholder="Email">
                                    <span asp-validation-for="Email" class="text-danger"></span>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label" asp-for="Password" class="control-label">@Localization.password</label>
                                    <input type="password" asp-for="Password" class="form-control" name="Password" placeholder="Password">
                                    <span asp-validation-for="Password" class="text-danger"></span>
                                </div>

                                @*                                     <div class="mb-3">
                                <label class="form-label">@Localization.emailAddress</label>
                                @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", autofocus = "", id="email" } })
                                @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })

                                </div>

                                <div class="mb-3">
                                <label class="form-label">@Localization.password</label>
                                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", @type = "password" } })
                                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })

                                </div> *@




                                <div class="d-flex justify-content-between">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-white dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            @switch (Localization.languageState)
                                            {
                                                case "en":
                                                    <img src="~/assets/images/flags/us.jpg" alt="Header Language" height="12">
                                                    <span class="align-middle"> English</span>
                                                    break;
                                                case "ru":
                                                    {
                                                        <img src="~/assets/images/flags/russia.jpg" alt="Header Language" height="12">
                                                        <span class="align-middle"> Русский</span>
                                                        break;
                                                    }
                                                case "ro":
                                                    <img src="~/assets/images/flags/ro.png" alt="Header Language" height="12"> <span class="align-middle"> Română</span>
                                                    break;
                                                default:
                                                    <img src="~/assets/images/flags/russia.jpg" alt="Header Language" height="12">
                                                    <span class="align-middle"> Русский</span>
                                                    break;
                                            }
                                        </button>
                                        <div class="dropdown-menu">
                                            <!-- Add flag options here -->
                                            <a class="dropdown-item" asp-controller="Account" asp-action="ChangeCultureLogin" asp-route-shortLang="ro">
                                                <img src="~/assets/images/flags/ro.png" alt="user-image" class="me-1" height="12"> <span class="align-middle"> Română</span>
                                            </a>
                                            <a class="dropdown-item" asp-controller="Account" asp-action="ChangeCultureLogin" asp-route-shortLang="ru">
                                                <img src="~/assets/images/flags/russia.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle"> Русский</span>
                                            </a>
                                            <a class="dropdown-item" asp-controller="Account" asp-action="ChangeCultureLogin" asp-route-shortLang="en">
                                                <img src="~/assets/images/flags/us.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle"> English</span>
                                            </a>
                                            <!-- Add more flag options as needed -->
                                        </div>
                                    </div>

                                    <a href="@Url.Action("AuthRecoverpw", "Account")" class="text-muted align-self-center">@Localization.recoverPW?</a>
                                </div>



                                <div class="mt-3 text-end">
                                    <button class="btn btn-primary w-sm waves-effect waves-light" style="width: 100%;" type="submit">@Localization.logIn</button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>

                <div class="mt-5 text-center">
                    <p>
                        ©
                        <script>document.write(new Date().getFullYear())</script> Minible. Crafted with <i class="mdi mdi-heart text-danger"></i> by Themesbrand
                    </p>
                </div>

            </div>
        </div>
        <!-- end row -->
    </div>
    <!-- end container -->
</div>
@section Scripts{
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
